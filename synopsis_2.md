##### Кобяшова Дарья Александровна 3 курс 4 группа ИВТ
#### Конспект лекции №1
##### Задание на конспект (основа — книга «Системное и сетевое администрирование. Практическое руководство, 2-е издание. – Пер. с англ. – СПб: Символ-Плюс, 2009. – 944 с.»):


## Cервисы
<ins>**Сервер**</ins> – это оборудование. <ins>**Сервис**</ins> – это функция, предоставляемая сервером.
Сервис может быть скомпонован на нескольких серверах, которые работают совместно друг с другом.

Предоставление сервиса подразумевает не только совмещение оборудования и программного обеспечения, но и обеспечение надежности сервиса, его масштабирование, а также мониторинг, обслуживание и поддержку.

Создание исправного и надежного сервиса – **ключевая задача** системного администратора, которому при ее выполнении необходимо учитывать множество основных факторов. Самым <ins>**важным**</ins> таким фактором на всех этапах создания и развертывания являются потребности пользователей.

Сервисы необходимо создавать на машинах серверного класса, которые содержатся в соответствующих условиях и отличаются разумным уровнем надежности и быстродействия. За сервисом и машинами, от которых он зависит, не обходимо установить мониторинг. При сбоях в работе должны генерироваться предупреждения или уведомления о неисправностях.

Большинство сервисов зависят от других сервисов. Понимание того, каким образом работает сервис, позволит вам точно определить, от каких сервисов он зависит. Машины и программы, которые являются частью сервиса, должны зависеть от узлов и программ, созданных в соответствии с теми же или более высокими стандартами. Надежность сервиса соответствует надежности самого слабого звена в цепи сервисов, от которых он зависит.

Доступ к серверным машинам должен быть ограничен для системных администраторов ради надежности и безопасности. Чем больше людей используют машину и чем больше программ и сервисов на ней запускается, тем выше шанс нарушения работоспособности.

Сервер должен быть максимально простым. Простота повышает надежность машин и упрощает исправление в случае возникновения проблем. Серверы должны отвечать минимальным требованиям к работе сервиса, и только системные администраторы должны иметь к ним доступ. Кроме того, системные администраторы должны получать к ним доступ только с целью обслуживания.

Помимо этого, с точки зрения безопасности уязвимость серверов более критична, чем настольных компьютеров. Злоумышленник, который способен получить доступ с правами администратора к серверу, как правило, способен нанести больший урон, чем при доступе с правами администратора к настольному компьютеру. Чем меньше людей обладают доступом и чем меньше программ используется на этой машине, тем ниже риск того, что злоумышленник сможет получить к ней доступ, и тем выше шансы того, что злоумышленник будет обнаружен.
Процесс создания нового сервиса всегда необходимо начинать с учета требований пользователей. Для некоторых сервисов требований пользователей нет. DNS – один из таких сервисов. Другие сервисы, такие как электронная почта и сеть, более весомы для пользователей. Для некоторых сервисов требований пользователей нет. DNS – один из таких сервисов. Другие сервисы, такие как электронная почта и сеть, более весомы для пользователей.

Процесс составления соглашения об уровне обслуживания – возможность для системных администраторов понять ожидания пользователей и соответственно их направлять, чтобы пользователи понимали, что выполнить возможно, а что нет и почему. Обсуждение соглашения об уровне обслуживания – совещательный процесс. Конечная его цель – найти компромисс между тем, чего в идеале хочет пользователь, тем, чего технически возможно добиться, тем, что позволяют финансы, и тем, что могут предоставить системные администраторы.

Системные администраторы должны учитывать и другие требования к новым сервисам, о которых пользователи могут не знать. Системным администраторам необходимо продумать административный интерфейс нового сервиса: будет ли он взаимодействовать с существующими сервисами и можно ли его интегрировать в центральные сервисы, такие как сервис аутентификации или каталогов. Кроме того, системным администраторам необходимо учитывать масштабирование сервиса. 

Всегда, когда это возможно, новые сервисы следует строить, опираясь на архитектуру, которая использует открытые протоколы и форматы файлов. Любой сервис с открытой архитектурой проще интегрировать с другими сервисами, которые следуют тем же стандартам.

Напротив, закрытые сервисы используют проприетарные протоколы и форматы файлов, которые способны взаимодействовать только с ограниченным кругом решений, так как протоколы и форматы файлов могут изменяться без уведомления и требовать лицензирования у создателей протокола. 

С точки зрения бизнеса смысл использования открытых протоколов прост: это позволяет вам создать более качественные сервисы, потому что вы можете выбрать лучший сервер и лучший клиент, а не быть вынужденным, например, выбрать лучший клиент, а потом оказаться привязанным к менее оптимальному серверу.

Люди хотят пользоваться приложением, которое соответствует их потребностям по функциональности и простоте использования. Системные администраторы хотят пользоваться приложением, которое упростит управление сервером. Эти требования зачастую противоречат друг другу. 

Лучшим способом будет выбор протоколов, основанных на открытых стандартах и позволяющих каждой стороне выбрать свое собственное программное обеспечение. Такой подход позволяет отделить процесс выбора клиентского приложения от процесса выбора серверной платформы. Пользователи могут свободно выбрать программное обеспечение, наилучшим образом соответствующее их нуждам, склонностям и даже платформе. Системные администраторы могут независимо выбрать серверное решение, основываясь на своих потребностях по параметрам надежности, масштабируемости и управляемости.

При разработке нового сервиса прежде всего следует обращать внимание на простоту. Самое простое решение, удовлетворяющее всем требованиям, будет самым надежным, удобным в обслуживании, легко расширяемым и легко интегрируемым с другими системами.

По мере своего роста система становится более сложной. Следовательно, если создавать ее как можно более простой, это позволит отсрочить день, когда система станет слишком сложной. 

При выборе аппаратного и программного обеспечения для сервиса у вас должна быть возможность побеседовать с техническими консультантами поставщиков, чтобы посоветоваться насчет выбора наилучшей конфигурации для вашего приложения. У поставщиков оборудования иногда бывают готовые конфигурации, оптимизированные для определенных приложений, таких как базы данных или веб-серверы. Если у вас оборудование от нескольких поставщиков серверов и у этих поставщиков есть подходящая продукция, вам следует использовать эту ситуацию с выгодой для себя.

При выборе поставщика, особенно программных продуктов, важно понимать, в каком направлении поставщик будет развивать продукт. Если вы крупный заказчик, у вас должна быть возможность участвовать в бета-тестировании и влиять на направление развития продукта путем согласования с руководителем проекта функций, которые могут быть для вас важны в будущем. 

Надежному сервису требуется надежная среда окружения. Сервис влияет на эффективность работы ваших пользователей, напрямую либо косвенно, через другие машины и сервисы, зависящие от этого. Пользователи ожидают, что сервис будет доступен всегда, когда он им потребуется. 

Есть и технические причины для обустройства вычислительного центра. Одна из причин размещения серверов в вычислительных центрах в том, что серверам часто требуется большая скорость подключения к сети, чем клиентам, так как им необходимо связываться на приемлемой скорости с большим числом клиентов одновременно. Все серверы, составляющие основу вашей сервиса, должны находиться в вычислительном центре, чтобы использовать преимущества высокоскоростной сети.

Ни один из компонентов сервиса не должен зависеть от каких-либо программ, выполняющихся на машинах, расположенных за пределами вычислительного центра.

Ограничение прямого доступа к серверам – одна из составляющих сервиса. Чем больше людей подключаются напрямую к машине, тем выше вероятность сбоя. Человек, привыкший пользоваться конкретным сервером для не ресурсоёмких задач, таких как проверка почты, может случайно запустить другие программы, которые сильно нагрузят центральный процессор, память и систему ввода-вы вода. Сам не понимая этого, человек может навредить сервису. Мы рекомендуем с самого начала ограничить доступ к серверам для всех, кроме системных администраторов.

Все компоненты каждого сервиса, кроме избыточных элементов, должны быть плотно взаимосвязаны, использовать одни и те же источники питания и сетевую инфраструктуру, чтобы сервис в целом, насколько это возможно, зависел от наименьшего числа компонентов. Если три компонента получают питание от разных источников, выход из строя любого источника питания вызовет отказ всего сервиса. Каждый из них – вероятная точка сбоя. Если они питаются от одного источника, сбой других источников питания на них не повлияет. Аналогично, если они подключены к одному сетевому коммутатору, только выход из строя этого коммутатора вызовет отказ сервиса. С другой стороны, если они разбросаны по трем сетям с множеством различных коммутаторов и маршрутизаторов, участвующих в связи между компонентами, гораздо больше компонентов могут выйти из строя и вызвать отказ сервиса.

При частичном отказе по-прежнему предоставляется частичная функциональность. При полном отказе, с другой стороны, нарушается работа всех сервисов, из-за чего останавливается вся работа.

Независимые сервисы всегда должны находиться на отдельных машинах, если позволяет уровень финансирования и количество персонала. Придется подумать, размещать ли все компоненты на одной машине или разделить их между несколькими машинами. Этот выбор может быть обусловлен соображениями безопасности, производительности или масштабируемости.

Иногда два приложения могут быть полностью взаимосвязаны и никогда не использоваться отдельно. В этой ситуации при прочих равных условиях имеет смысл размещать их на одной машине, чтобы сервис зависел только от одной машины, а не от двух.

Еще один элемент построения сервиса – централизация инструментария, приложений и сервисов, необходимых вашим пользователям. Централизация подразумевает, что инструментарий, приложения и сервис управляются в первую очередь центральной группой системных администраторов на едином центральном наборе серверов, а не многочисленными корпоративными группами, дублирующими работу друг друга и закупающими собственные серверы. Общая централизация не отменяет централизации на уровне региональных или организационных подразделений, в особенности если в каждом регионе или организации есть своя служба поддержки.

Для создания сервиса с достойной производительностью вы должны понимать, как он устроен. Во время тестирования нагрузки вы создаете искусственную нагрузку на сервис и следите за ее реакцией. 

Сервис не готов и не имеет права называться сервисом до тех пор, пока не налажен мониторинг производительности, проблем, работоспособности и не внедрены механизмы планирования мощностей. Служба поддержки или оперативная группа поддержки должна автоматически получать оповещения о проблемах сервиса, чтобы начать их исправлять до того, как они затронут слишком большое количество людей. Аналогично, группа системных администраторов должна вести упреждающий мониторинг сервиса с точки зрения планирования мощностей.

Наличие дублирующего сервера или набора серверов, которые готовы принять на себя роль основных серверов в случае сбоя, называется полной избыточно стью. В случае сбоя переход роли основного сервиса к вторичному может про водиться несколькими способами: потребуется вмешательство человека, переход может быть автоматическим при сбое основного сервера или основной и вторичный серверы разделят нагрузку до отказа одного из них, после чего оставшийся сервер возьмет на себя всю рабочую нагрузку.

Некоторые сервисы являются неотъемлемой частью ежеминутного функционирования сети, поэтому их полная избыточность обеспечивается на самых ранних стадиях создания этой сети. Другие сервисы в этом отношении игнорируются до тех пор, пока сеть не достигнет очень крупных размеров или не произойдет серьезный, заметный сбой такого сервиса.

Еще одно преимущество подобной избыточности – упрощение модернизации. Она позволяла провести постепенную модернизацию. Все узлы по одному отключаются, обновляются, тестируются и заново подключаются

Потоковая модель – просто список транзакций и их зависимостей со всей информацией, которую можно получить об использовании ресурсов по каждой транзакции. Эта информация может включать в себя объем памяти, используемой на сервере этой транзакции; размер и количество пакетов, используемых в транзакции; количество открытых сокетов, используемых для обслуживания транзакции, и т. д.

Приятный момент в работе сервисов заключается в том, что они обычно основаны на транзакциях. Даже передача файлов состоит из множества транзакций чтения и записи блоков по сети. Главное, о чем следует помнить при создании потоковой модели, – транзакции сервисов практически всегда зависят от транзакций инфраструктуры.

Когда потоковая модель точно изображает сервис, вы можете локализовать проблемы производительности и масштабируемости, увидев, какая часть модели потоков данных является слабым звеном, провести мониторинг этого участ¬ка в реальных или искусственно созданных условиях и посмотреть, как он функционирует или дает сбой. 

Потоковая модель работает на всех уровнях масштабирования. Вы можете ус пешно спроектировать модернизацию сервера для отдела с тридцатью сотруд никами или кластеры мультимедийного сервиса для трех миллионов пользователей одновременно. Чтобы получить точные цифры, которые вам нужны для крупномасштабного планирования, можно использовать анализ трафика тестовой установки, а также информацию от поставщика, отслеживание систе мы и т. д.

Вывод
Разработка и создание сервисов – важная часть работы каждого системного администратора.
Вы создаете сервис для улучшения обслуживания ваших пользователей, непосредственно, за счет предоставления необходимого им сервиса, или опосредованно, за счет улучшения эффективности работы команды системных администраторов.
Сервисы должны быть настолько надежны, насколько это требуется пользователям.
Последняя, но, возможно, наиболее заметная часть создания нового сервиса – постепенное развертывание сервиса с минимальными помехами в работе пользователей.

