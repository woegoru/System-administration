##### Кобяшова Дарья Александровна 3 курс 4 группа ИВТ

#### Конспект лекции №2

##### Задание на конспект (основа — книга «Системное и сетевое администрирование. Практическое руководство, 2-е издание – Пер. с англ. – СПб: Символ-Плюс, 2009. – 944 с.»): 5-6 главы

## Cервисы

<ins>**Сервер**</ins> – это оборудование. <ins>**Сервис**</ins> – это функция, предоставляемая сервером.
Сервис может быть скомпонован на нескольких серверах, которые работают совместно друг с другом.


Предоставление сервиса подразумевает *не только* совмещение оборудования и программного обеспечения, но и:

- обеспечение надежности сервиса
- его масштабирование
- мониторинг
- обслуживание
- поддержку


Создание исправного и надежного сервиса – **ключевая задача** системного администратора, которому при ее выполнении необходимо учитывать множество основных факторов. Самым <ins>**важным**</ins> таким фактором на всех этапах создания и развертывания являются потребности пользователей.

Сервисы необходимо создавать на машинах *серверного класса*, которые содержатся в соответствующих условиях и отличаются разумным уровнем надежности и быстродействия. За сервисом и машинами, от которых он зависит, не обходимо установить *мониторинг*. При сбоях в работе должны генерироваться *предупреждения или уведомления* о неисправностях.

Большинство сервисов зависят от других сервисов. Понимание того, каким образом работает сервис, позволит вам точно определить, от каких сервисов он зависит. Машины и программы, которые являются частью сервиса, должны зависеть от *узлов* и *программ*, созданных в соответствии с теми же или более высокими стандартами.<ins>**Надежность**</ins> сервиса соответствует надежности самого **слабого** звена в цепи сервисов, от которых он зависит.

Доступ к серверным машинам должен быть <ins>**ограничен**</ins> для системных администраторов ради **надежности** и **безопасности**. Чем больше людей используют машину и чем больше программ и сервисов на ней запускается, тем выше шанс нарушения работоспособности.

Сервер должен быть максимально <ins>**простым**</ins>. Простота повышает надежность машин и упрощает исправление в случае возникновения проблем. Серверы должны отвечать минимальным требованиям к работе сервиса, и **только** системные администраторы должны иметь к ним доступ. Кроме того, системные администраторы должны получать к ним доступ только *с целью обслуживания.* Чем **меньше** людей обладают доступом и чем **меньше** программ используется на этой машине, тем **ниже** риск того, что злоумышленник сможет получить к ней доступ, и тем выше шансы того, что злоумышленник будет обнаружен.

Процесс создания нового сервиса всегда необходимо <ins>**начинать с учета требований пользователей**</ins>. Для некоторых сервисов требований пользователей нет. Другие сервисы, такие как электронная почта и сеть, более весомы для пользователей.

Процесс составления <ins>**соглашения об уровне обслуживания**</ins> – возможность для системных администраторов понять ожидания пользователей и соответственно их направлять, чтобы пользователи понимали, что выполнить возможно, а что нет и почему. Обсуждение соглашения об уровне обслуживания – *совещательный* процесс. Конечная его цель – *найти компромисс между тем, чего в идеале хочет пользователь, тем, чего технически возможно добиться, тем, что позволяют финансы, и тем, что могут предоставить системные администраторы*.

Системным администраторам необходимо продумать **административный интерфейс** нового сервиса: будет ли он взаимодействовать с существующими сервисами и можно ли его интегрировать в центральные сервисы, такие как сервис аутентификации или каталогов. Кроме того, системным администраторам необходимо учитывать **масштабирование** сервиса.

Всегда, когда это возможно, новые сервисы следует строить, опираясь на архитектуру, которая использует <ins>**открытые протоколы и форматы файлов**</ins>. Любой сервис с открытой архитектурой *проще* интегрировать с другими сервисами, которые следуют тем же стандартам.

Напротив, <ins>**закрытые**</ins> сервисы используют проприетарные протоколы и форматы файлов, которые способны взаимодействовать только с ограниченным кругом решений, так как протоколы и форматы файлов могут изменяться без уведомления и требовать лицензирования у создателей протокола. 

С точки зрения бизнеса <ins>**смысл использования открытых**</ins> протоколов прост: это позволяет вам создать более *качественные* сервисы.

**Люди** хотят пользоваться приложением, которое соответствует их потребностям по функциональности и простоте использования. **Системные администраторы** хотят пользоваться приложением, которое упростит управление сервером.

Лучшим <ins>решением</ins> для обеих сторон будет **выбор протоколов**, *основанных на открытых стандартах и позволяющих каждой стороне выбрать свое собственное программное обеспечение*. Такой подход позволяет отделить процесс выбора клиентского приложения от процесса выбора серверной платформы. 

При выборе *аппаратного* и *программного* обеспечения для сервиса у вас должна быть возможность побеседовать с техническими консультантами поставщиков, чтобы посоветоваться насчет выбора наилучшей конфигурации для вашего приложения. Если у вас оборудование от нескольких поставщиков серверов и у этих поставщиков есть подходящая продукция, вам следует использовать эту ситуацию с выгодой для себя. При выборе поставщика, особенно программных продуктов, важно понимать, *в каком направлении* поставщик будет **развивать** продукт.

Надежному сервису требуется надежная <ins>**среда окружения**</ins>. Сервис влияет на эффективность работы ваших пользователей, напрямую либо косвенно, через другие машины и сервисы, зависящие от этого. Пользователи ожидают, что сервис будет доступен всегда, когда он им потребуется. 

Есть и *технические причины* для обустройства <ins>**вычислительного центра**</ins>. Одна из причин размещения серверов в вычислительных центрах в том, что серверам часто требуется **большая скорость** подключения к сети, чем клиентам, так как им необходимо связываться на приемлемой скорости с большим числом клиентов одновременно. Все серверы, составляющие основу вашей сервиса, должны находиться в вычислительном центре, чтобы использовать **преимущества высокоскоростной сети**. Ни один из компонентов сервиса **НЕ ДОЛЖЕН** зависеть от каких-либо программ, выполняющихся на машинах, расположенных за пределами вычислительного центра.

<ins>**Ограничение прямого доступа к серверам**<.ins> – одна из составляющих сервиса. Чем *больше* людей подключаются напрямую к машине, тем *выше* вероятность сбоя. 


Все компоненты каждого сервиса, кроме *избыточных* элементов, должны быть:

- плотно взаимосвязаны
- использовать одни и те же источники питания
- использовать одну и ту же сетевую инфраструктуру
  

*Независимые сервисы всегда должны находиться на отдельных машинах*, если позволяет уровень финансирования и количество персонала. Придется подумать, размещать ли все компоненты на одной машине или разделить их между несколькими машинами. Этот выбор может быть обусловлен соображениями безопасности, производительности или масштабируемости.

Еще один элемент построения сервиса – <ins>**централизация инструментария**</ins>, приложений и сервисов, необходимых вашим пользователям. **Централизация** подразумевает, что инструментарий, приложения и сервис управляются в первую очередь *центральной группой системных администраторов на едином центральном наборе серверов*, а не многочисленными корпоративными группами, дублирующими работу друг друга и закупающими собственные серверы. 

Сервис НЕ готов и НЕ имеет права называться сервисом до тех пор, пока не **налажен <ins>мониторинг производительности**</ins>, проблем, работоспособности и не **внедрены <ins>механизмы планирования мощностей**</ins>. 

Наличие **дублирующего** сервера или набора серверов, которые готовы принять на себя роль основных серверов в случае сбоя, называется полной избыточно стью. В случае сбоя переход роли основного сервиса к вторичному может про водиться несколькими способами: 

- потребуется вмешательство человека
- переход может быть автоматическим при сбое основного сервера 
- основной и вторичный серверы разделят нагрузку до отказа одного из них, после чего оставшийся сервер возьмет на себя всю рабочую нагрузку.


Некоторые сервисы являются неотъемлемой частью ежеминутного функционирования сети, поэтому их полная <ins>**избыточность**</ins> обеспечивается на самых ранних стадиях создания этой сети. Другие сервисы в этом отношении игнорируются до тех пор, пока сеть не достигнет очень крупных размеров или не произойдет серьезный, заметный сбой такого сервиса.

Еще одно преимущество подобной избыточности – <ins>**упрощение модернизации**</ins>. Она позволяла провести постепенную модернизацию. Все узлы по одному отключаются, обновляются, тестируются и заново подключаются.

<ins>**Потоковая модель**</ins> – просто список транзакций и их зависимостей со всей информацией, которую можно получить об использовании ресурсов по каждой транзакции. Эта информация может включать в себя:
- объем памяти, используемой на сервере этой транзакции
- размер и количество пакетов, используемых в транзакции
- количество открытых сокетов, используемых для обслуживания транзакции, и т. д.


Потоковая модель работает на **всех уровнях масштабирования**. Вы можете успешно спроектировать модернизацию сервера для отдела с тридцатью сотрудниками или кластеры мультимедийного сервиса для трех миллионов пользователей одновременно. Чтобы получить точные цифры, которые вам нужны для крупномасштабного планирования, можно использовать анализ трафика тестовой установки, а также информацию от поставщика, отслеживание систе мы и т. д.


<ins>**Вывод:**</ins>

1. Разработка и создание сервисов – важная часть работы каждого системного администратора.
   
2. Вы создаете сервис для улучшения обслуживания ваших пользователей, непосредственно, за счет предоставления необходимого им сервиса, или опосредованно, за счет улучшения эффективности работы команды системных администраторов.

3. Сервисы должны быть настолько надежны, насколько это требуется пользователям.

4. Последняя, но наиболее заметная часть создания нового сервиса – постепенное развертывание сервиса с минимальными помехами в работе пользователей.

## Вычислительные центры

<ins>**Вычислительный центр**</ins> – место, в котором находятся машины, предоставляющие общие ресурсы. Как правило, вычислительный центр оснащен системами охлаждения, регулировки влажности, электропитания и противопожарными системами.

Зачастую <ins>**вычислительные центры**</ins> – это отдельные здания, построенные специально для вычислительных и сетевых операций. *Машинный*, или *компьютерный*, зал – менее внушительное помещение, возможно, переоборудованное из обычного офисного. Самые маленькие помещения подобного типа часто шутливо называют <ins>**компьютерными каморками**</ins>.

Многие организации предпочитают арендовать место в <ins>**колокейшн-центрах**</ins> – вычислительных центрах, место в которых для нуждающихся в этой услуге компаний сдает в аренду компания, предоставляющая данную услугу. 

Нужно решить, где будет размещаться вычислительный центр. Если это будет *центральный узел* для офисов по всему миру или в пределах географического региона, то сначала придется выбрать **город и здание** в этом городе. Когда здание выбрано, необходимо выбрать подходящее **место внутри** здания. На всех этих этапах при принятии решения следует принимать во внимание *стихийные бедствия*, типичные для этого региона.

Вычислительный центр должен быть <ins>**физически защищен**</ins> настолько, насколько это возможно сделать, не препятствуя работе системных администраторов. Доступ должен предоставляться только тем, чьи обязанности того требуют:

- техникам по обслуживанию аппаратуры
- операторам резервных копий на стримерах
- сетевым администраторам
- специалистам по материальной части и технике безопасности
- ограниченному числу руководителей.

**Запирать** вычислительный центр на ключ – неидеальный способ, так как ключи неудобны, их слишком легко скопировать и сложно отследить их местонахождение. Лучше подумайте о внедрении систем бесконтактных пропусков, они более удобны и автоматически регистрируют входящих.

<ins>**Биометрические замки**</ins> приносят много беспокойства. Биометрическая информация – это **неотменяемый** ключ. И наконец, что не менее важно, *люди с ограниченными физическими возможностями не всегда* могут воспользоваться такими системами.

**Энергоснабжение** и **охлаждение** вычислительного центра непосредственно взаимосвязаны. Оборудование работает от электричества, охлаждение борется с теплом, выделяемым аппаратурой при ее работе. 


Вы можете направить воздушные потоки в вычислительном центре двумя основными способами:

- использование фальшпола в качестве воздухопровода для холодного воздуха
- подавать холодный воздух со стороны потолка и обдувать машины сверху вниз.


Еще один компонент кондиционирования – <ins>**контроль влажности**</ins>. В вычисли тельном центре нужно регулировать влажность воздуха, так как *высокая* влажность приводит к образованию конденсата и выходу оборудования из строя, а при *низкой* влажности возникают статические разряды, которые также могут повредить оборудование.

<ins>**Электропитание**</ins> вычислительного центра должно быть *сглаженным*, или *стабилизированным*, чтобы защитить оборудование от скачков и спадов напряжения, обычных в электрической сети. 

При приобретении <ins>**источников бесперебойного питания**</ins> наиболее важно учитывать следующее: как показывают исследования, перебои в электросети обычно либо очень короткие, либо очень длинные. Вычислительные центры, предоставляющие службы круглосуточно без выходных, требуют более сложных систем бесперебойного питания.

<ins>**Автомат включения резерва**</ins> – это устройство, управляющее *переключением питания ИБП от сети или генератора.* АВР отслеживает напряжение в сети и, если оно находится в пределах нормы, подключает к сети ИБП. Всегда устанавливайте переключатель, позволяющий включить питание в обход ИБП в случае его отказа.

<ins>**Генераторы**</ins> должны проходить тщательную профилактику, ежемесячные **испытания** и периодически **дозаправляться**. Если в вычислительном центре есть генератор, то системы *отопления*, *вентиляции* и *кондиционирования* тоже должны иметь резервное питание.

Во всех помещениях должно быть по крайней мере **аварийное освещение**, включающееся автоматически при отключении электроэнергии, даже если это не предусмотрено региональными строительными нормами

<ins>**Максимальная нагрузка**</ins> – это не просто суммарное потребление оборудования вычислительного центра. Все компоненты электрической системы, а также выключатели и автоматические предохранители между ними должны иметь **запас мощности**, достаточный, чтобы выдержать максимальную нагрузку вычислительного центра, системы отопления, вентиляции и кондиционирования, работающих с максимальной производительностью, и нагрузку ИБП, заряжающих батареи.

Обеспечив свой вычислительный центр стабилизированным питанием, вы должны подвести **питание к стойкам**. Хороший способ сделать это – проложить <ins>**подвесную шину питания**</ins>, что даст вам возможность подвести к каждой стойке разные напряжения, если у вас есть оборудование, требующее нестандартного питания, что встречается среди оборудования высшего класса.

Настоятельно рекомендуется установить в вычислительном центре <ins>**систему пожаротушения**</ins>, даже если этого не требуют местные законодательные акты. 

Оборудование в вычислительном центре, как правило, крепится в <ins>**стойки**</ins>. Для вычислительного центра стойки – то же самое, что позвоночник для вашего организма: 

- cтойки – часть системы охлаждения.
- cтойки – часть кабельной инфраструктуры.
- cтойки – часть инфраструктуры питания.
  
Рельсы по углам стойки называют <ins>**вертикальными штангами**</ins>. Стойки могут быть *двухштанговыми* и *четырехштанговыми*.

<ins>**Однорамные**</ins> стойки, как правило, используются для **сетевого** и **телекоммуникационного** оборудования, для которого обычно предусмотрена возможность *центрального* крепления, а также крепления на *лицевой* и/или *задней* панели. Однако часто проще и безопаснее установить крупногабаритное сетевое и теле коммуникационное оборудование в <ins>**двухрамную**</ins> стойку, которая лучше защищает аппаратуру от случайных толчков, способных ослабить или повредить кабели.

- *Высота* стойки может влиять на *надежность*, если стойка высокая и системному администратору приходится тянуться к машине через другое оборудование.

- Если у нас есть выбор, мы предпочитаем более *широкие* стойки. Дополнительная *ширина* упрощает размещение кабелей.

- Стоит выбирать стойки, *глубина* которых позволяет целиком разместить в них аппаратуру, чтобы все кабели были защищены от случайных задеваний и при необходимости можно было бы использовать в стойке горизонтальную укладку кабелей. 

- Стойки должны быть достаточно *прочными*, чтобы выдержать вес устанавливаемого в них оборудования. 


При приобретении стойки всегда продумывайте <ins>**укладку кабелей**</ins>. Кабели, должным образом уложенные между стойками и внутри них, позволят работать эффективно, не затрагивая при этом другое оборудование.

<ins>**Горизонтальная укладка**</ins> кабелей по рельсам стойки может быть открытой или закрытой. При **открытой** укладке используются крупные разрезные кольца, за которыми проходят кабели. При **закрытой** укладке кабели располагаются в закрывающихся коробах. В некоторых стойках предусмотрена **вертикальная** укладка кабелей в углубления между стойками. В других стойках углубления расположены с **внутренней** стороны на задних штангах. В третьих стойках крепежи сделаны на задних штангах с **внешней** стороны.

Укладка кабелей в сетевом ряду потребует немало крепежа и сил, но, по крайней мере, вся работа производится в одной зоне. При **отказе** оборудования действовать необходимо точно, и, возможно, понадобится быстро переключить много кабелей к другому оборудованию, пока вы ищете замену неисправному. Основными аргументами против предварительной укладки кабелей являются уменьшение свободного пространства в стойке и стоимость. 

Еще один прием по **оптимизации** системы кабелей – наличие на боковых панелях стоек *вертикальных блоков распределения* питания с множеством розеток. Грамотная маркировка и **ярлыки** необходимы для безотказной работы вычислительного центра. Все устройства должны иметь ярлыки как на лицевой, так и на задней панели. На этих ярлыках должно присутствовать полное имя устройства, которое указано в корпоративном пространстве имен и в системе консольного сервера.

Определенные задачи можно выполнить исключительно с консоли компьютера. Консольные серверы бывают двух основных видов:

- есть переключатели, позволяющие подключить одну клавиатуру, видеомонитор и мышь (КВМ) к портам клавиатуры, монитора и мыши нескольких машин.
- консольные серверы для машин, которые поддерживают последовательные консоли. 

Еще один важный аспект любого вычислительного центра – <ins>**легкий доступ к рабочему месту**</ins>, оборудованному достаточным количеством розеток и антистатической поверхностью, где системный администратор может выполнять работу с машинами: 

-устанавливать память, диски и процессоры на новое оборудование перед его установкой
- решать ту или иную аппаратную проблему
  
В идеале рабочее место должно находиться рядом с вычислительным центром, но не внутри него. В вычислительном центре всегда должен иметься полный запас различных кабелей, инструментов и запасных деталей. Системные администраторы должны следить за тем, чтобы нужные запасы не заканчивались, а если заканчивались, то редко и ненадолго. В идеале инструменты должны храниться в тележке с ящиками, которую в случае необходимости можно подвезти в нужное место. 

Простой, дешевый и эффективный способ упростить жизнь людям, работающим в вычислительном центре, – распределить место для хранения переносимых объектов. 


*Простой план помещения, обеспечивающий открытое пространство:*

![image](https://github.com/woegoru/System-administration/blob/task-for-the-synopsis-2/img-for-2.jpg)


<ins>**Вывод:**</ins>

1. Чтобы вычислительный центр работал правильно, необходимо при его планировании учитывать множество факторов.

2. Системы энергоснабжения, кондиционирования и пожаротушения являются практически обязательными ключевыми компонентами вычислительного центра.

3. Еще один ключевой аспект, который необходимо продумать заранее, – доступ в центр для доставки и перемещения оборудования.

4. Вычислительный центр – критически важное помещение, в котором находится множество ценного оборудования.

5. Создание хорошего, надежного вычислительного центра требует немало вложений, но все они быстро окупаются.

6. Если площадь позволяет, лучше сделать вычислительный центр просторнее, чем это необходимо.

7. Чтобы использовать все возможности вычислительного центра, необходимо все правильно спроектировать с самого начала.
